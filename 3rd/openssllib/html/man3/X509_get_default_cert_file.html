<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>X509_get_default_cert_file</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#NOTES">NOTES</a></li>
  <li><a href="#RETURN-VALUES">RETURN VALUES</a></li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
  <li><a href="#HISTORY">HISTORY</a></li>
  <li><a href="#COPYRIGHT">COPYRIGHT</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>X509_get_default_cert_file, X509_get_default_cert_file_env, X509_get_default_cert_path_env, X509_get_default_cert_dir, X509_get_default_cert_dir_env, X509_get_default_cert_uri, X509_get_default_cert_uri_env - retrieve default locations for trusted CA certificates</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>#include &lt;openssl/x509.h&gt;

const char *X509_get_default_cert_file(void);
const char *X509_get_default_cert_dir(void);
const char *X509_get_default_cert_uri(void);

const char *X509_get_default_cert_file_env(void);
const char *X509_get_default_cert_path_env(void);
const char *X509_get_default_cert_dir_env(void);
const char *X509_get_default_cert_uri_env(void);</code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>The X509_get_default_cert_file() function returns the default path to a file containing trusted CA certificates. OpenSSL will use this as the default path when it is asked to load trusted CA certificates from a file and no other path is specified. If the file exists, CA certificates are loaded from the file.</p>

<p>The X509_get_default_cert_dir() function returns a default delimeter-separated list of paths to a directories containing trusted CA certificates named in the hashed format. OpenSSL will use this as the default list of paths when it is asked to load trusted CA certificates from a directory and no other path is specified. If a given directory in the list exists, OpenSSL attempts to lookup CA certificates in this directory by calculating a filename based on a hash of the certificate&#39;s subject name.</p>

<p>The X509_get_default_cert_uri() function returns the default URI for a certificate store accessed programmatically via an OpenSSL provider. If there is no default store applicable to the system for which OpenSSL was compiled, this returns an empty string.</p>

<p>X509_get_default_cert_file_env() and X509_get_default_cert_uri_env() return environment variable names which are recommended to specify nondefault values to be used instead of the values returned by X509_get_default_cert_file() and X509_get_default_cert_uri() respectively. The values returned by the latter functions are not affected by these environment variables; you must check for these environment variables yourself, using these functions to retrieve the correct environment variable names. If an environment variable is not set, the value returned by the corresponding function above should be used.</p>

<p>X509_get_default_cert_path_env() returns the environment variable name which is recommended to specify a nondefault value to be used instead of the value returned by X509_get_default_cert_dir(). This environment variable supersedes the deprecated environment variable whose name is returned by X509_get_default_cert_dir_env(). This environment variable was deprecated as its contents can be interpreted ambiguously; see NOTES.</p>

<p>By default, OpenSSL uses the path list specified in the environment variable whose name is returned by X509_get_default_cert_path_env() if it is set; otherwise, it uses the path list specified in the environment variable whose name is returned by X509_get_default_cert_dir_env() if it is set; otherwise, it uses the value returned by X509_get_default_cert_dir()).</p>

<h1 id="NOTES">NOTES</h1>

<p>X509_get_default_cert_uri(), X509_get_default_cert_uri_env() and X509_get_default_cert_path_env() were introduced in OpenSSL 3.2. Prior to this release, store URIs were expressed via the environment variable returned by X509_get_default_cert_dir_env(); this environment variable could be used to specify either a list of directories or a store URI. This creates an ambiguity in which the environment variable returned by X509_get_default_cert_dir_env() is interpreted both as a list of directories and as a store URI.</p>

<p>This usage and the environment variable returned by X509_get_default_cert_dir_env() are now deprecated; to specify a store URI, use the environment variable returned by X509_get_default_cert_uri_env(), and to specify a list of directories, use the environment variable returned by X509_get_default_cert_path_env().</p>

<h1 id="RETURN-VALUES">RETURN VALUES</h1>

<p>These functions return pointers to constant strings with static storage duration.</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p><a href="../man3/X509_LOOKUP.html">X509_LOOKUP(3)</a>, <a href="../man3/SSL_CTX_set_default_verify_file.html">SSL_CTX_set_default_verify_file(3)</a>, <a href="../man3/SSL_CTX_set_default_verify_dir.html">SSL_CTX_set_default_verify_dir(3)</a>, <a href="../man3/SSL_CTX_set_default_verify_store.html">SSL_CTX_set_default_verify_store(3)</a>, <a href="../man3/SSL_CTX_load_verify_file.html">SSL_CTX_load_verify_file(3)</a>, <a href="../man3/SSL_CTX_load_verify_dir.html">SSL_CTX_load_verify_dir(3)</a>, <a href="../man3/SSL_CTX_load_verify_store.html">SSL_CTX_load_verify_store(3)</a>, <a href="../man3/SSL_CTX_load_verify_locations.html">SSL_CTX_load_verify_locations(3)</a></p>

<h1 id="HISTORY">HISTORY</h1>

<p>X509_get_default_cert_uri(), X509_get_default_cert_path_env() and X509_get_default_cert_uri_env() were introduced in OpenSSL 3.2.</p>

<h1 id="COPYRIGHT">COPYRIGHT</h1>

<p>Copyright 2022 The OpenSSL Project Authors. All Rights Reserved.</p>

<p>Licensed under the Apache License 2.0 (the &quot;License&quot;). You may not use this file except in compliance with the License. You can obtain a copy in the file LICENSE in the source distribution or at <a href="https://www.openssl.org/source/license.html">https://www.openssl.org/source/license.html</a>.</p>


</body>

</html>


